(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{3007:function(t,e,a){},3049:function(t,e,a){"use strict";a.r(e);var r=a(1),n=a.n(r),o=a(0),s=a.n(o),i=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN};var c,l;1===(c=i).length&&(l=c,c=function(t,e){return i(l(t),e)});var f=function(t,e){let a,r;if(void 0===e)for(const e of t)null!=e&&(void 0===a?e>=e&&(a=r=e):(a>e&&(a=e),r<e&&(r=e)));else{let n=-1;for(let o of t)null!=(o=e(o,++n,t))&&(void 0===a?o>=o&&(a=r=o):(a>o&&(a=o),r<o&&(r=o)))}return[a,r]};var u=Array.prototype;u.slice,u.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var h=a(124);function p(){return(p=Object.assign||function(t){for(var e,a=1;a<arguments.length;a++)for(var r in e=arguments[a])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)}var d=["#313695","#4575b4","#74add1","#abd9e9","#fee090","#fdae61","#f46d43","#d73027"],m={className:s.a.string,width:s.a.number,height:s.a.number,data:s.a.arrayOf(s.a.shape({y:s.a.number})).isRequired,bands:s.a.number,colors:s.a.arrayOf(s.a.string),colorScale:s.a.string,mode:s.a.string,offsetX:s.a.number,title:s.a.string,yDomain:s.a.arrayOf(s.a.number)},y={className:"",width:800,height:20,bands:d.length>>1,colors:d,colorScale:"series",mode:"offset",offsetX:0,title:"",yDomain:void 0},v=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var a=e.prototype;return a.componentDidMount=function(){this.drawChart()},a.componentDidUpdate=function(){this.drawChart()},a.componentWillUnmount=function(){this.canvas=null},a.drawChart=function(){if(this.canvas){var t=this.props,e=t.data,a=t.yDomain,r=t.width,n=t.height,o=t.bands,s=t.colors,i=t.colorScale,c=t.offsetX,l=t.mode,u="change"===i?e.map(function(t){return p({},t,{y:t.y-e[0].y})}):e,d=this.canvas.getContext("2d");d.imageSmoothingEnabled=!1,d.clearRect(0,0,r,n),d.setTransform(1,0,0,1,0,0),d.translate(.5,.5);var m=r/u.length,y=Math.floor(Math.max(0,-c/m)),v=Math.floor(Math.min(u.length,y+r/m));if(y>u.length)return;for(var g,b,w=a||f(u,function(t){return t.y}),O=w[0],N=w[1],M=Object(h.b)().domain([0,Math.max(-O,N)]).range([0,n]),S=!1,_=0;_<o;_+=1){d.fillStyle=s[o+_],b=(_+1-o)*n,M.range([o*n+b,b]);for(var X=y;X<v;X++)0>=(g=u[X].y)?S=!0:void 0!==g&&d.fillRect(c+X*m,M(g),m+1,M(0)-M(g))}if(S){"offset"===l&&(d.translate(0,n),d.scale(1,-1));for(var j=0;j<o;j++){d.fillStyle=s[o-j-1],b=(j+1-o)*n,M.range([o*n+b,b]);for(var k=y;k<v;k++)!(0<=(g=u[k].y))&&d.fillRect(c+k*m,M(-g),m+1,M(0)-M(-g))}}}},a.render=function(){var t=this,e=this.props,a=e.className,r=e.title,o=e.width,s=e.height;return n.a.createElement("div",{className:"horizon-row "+a},n.a.createElement("span",{className:"title"},r),n.a.createElement("canvas",{width:o,height:s,ref:function(e){t.canvas=e}}))},e}(n.a.PureComponent);v.propTypes=m,v.defaultProps=y;var g=v;a(3007);var b={className:s.a.string,width:s.a.number,seriesHeight:s.a.number,data:s.a.arrayOf(s.a.shape({key:s.a.arrayOf(s.a.string),values:s.a.arrayOf(s.a.shape({y:s.a.number}))})).isRequired,bands:s.a.number,colors:s.a.arrayOf(s.a.string),colorScale:s.a.string,mode:s.a.string,offsetX:s.a.number},w={className:"",width:800,seriesHeight:20,bands:Math.floor(d.length/2),colors:d,colorScale:"series",mode:"offset",offsetX:0},O=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.prototype.render=function(){var t,e=this.props,a=e.className,r=e.width,o=e.data,s=e.seriesHeight,i=e.bands,c=e.colors,l=e.colorScale,u=e.mode,h=e.offsetX;if("overall"===l){var p=o.reduce(function(t,e){return t.concat(e.values)},[]);t=f(p,function(t){return t.y})}return n.a.createElement("div",{className:"superset-legacy-chart-horizon "+a},o.map(function(e){return n.a.createElement(g,{key:e.key,width:r,height:s,title:e.key.join(", "),data:e.values,bands:i,colors:c,colorScale:l,mode:u,offsetX:h,yDomain:t})}))},e}(n.a.PureComponent);O.propTypes=b,O.defaultProps=w;e.default=O}}]);